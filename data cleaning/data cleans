
from cgi import test
from os import read
import re 
import json

test_tweet: str = 'this is not removed, "source":"this is removed", this is also not removed'

def remove_variables(tweet: str) -> str:
    '''
    :param tweet: string representation of tweet
    gets rid of unnecessary variables
    '''

    variables_to_remove: list[str] = ["source", "location", "url", "protected", "utc_offset", "time_zone", "geo_enabled", "contributors_enabled", "is_translator", "profile_background_image_url", "profile_background_image_url_https", "profile_background_tile", "profile_link_color", "profile_sidebar_border_color", "profile_sidebar_fill_color", "profile_text_color", "profile_use_background_image", "profile_image_url", "profile_image_url_https", "profile_banner_url", "default_profile", "default_profile_image", "following", "follow_request_sent", "notifications"]

    # Removes the following variables from tweet string:
    for variable in variables_to_remove:
        regex = r'\"' + variable + r'\":[^,]+,'
        tweet = re.sub(regex, "", tweet)

    return tweet

def read_data_file(path: str)-> str:
    """
    :param path: path to the data to be loaded
    reads the data 
    """
    with open(path) as file:
        data =json.load(file)
    return data


print(read_data_file('data cleaning/revisited tweet'))