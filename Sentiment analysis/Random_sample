import json
import random

# Step 1: Load the JSON data
def load_json(file_path):
    with open(file_path, 'r') as file:
        data: list[dict] = list()
        counter: int = 0
        for line in file:
            counter+=1
            if counter % 10000 == 0:
                print('Processing ' + str(counter))
            data.append(json.loads(line))
    return data

# Step 2: Select random lines
def select_random_lines(data, num_lines):
    if num_lines > len(data):
        raise ValueError("Number of lines to select is greater than the available lines in the JSON data.")
    selected_lines = random.sample(data, num_lines)
    return selected_lines

# Step 3: Save or print the selected lines
def save_selected_lines(selected_lines: list[dict]):
    tweet_entries: list[str] = []

    for line in selected_lines:
        if line['truncated'] == True:
            extended_tweet: dict = line["extended_tweet"]
            tweet_entries.append(extended_tweet['full_text'])
        else:
            tweet_entries.append(line["text"])
    return tweet_entries

data = load_json("Sentiment analysis/../data/cleaned_data.json")
sample = select_random_lines(data, 5)
print(save_selected_lines(sample))
